import React, { useRef } from "react";
import AnimatedSplitText from "./AnimatedSplitText";
import { useGSAP } from "@gsap/react";
import gsap from "gsap";

interface Service {
  title: string;
  description: string;
  icon: React.ReactNode;
}

// Helper to wrap an svg in a responsive container w/ utility classes
const ResponsiveSVG: React.FC<React.PropsWithChildren> = ({ children }) => (
  <span className="inline-block w-10 h-10 md:w-[40px] md:h-[40px] lg:w-[50px] lg:h-[50px]">
    {children}
  </span>
);

const WhatWeDo: React.FC = () => {
  const containerRef = useRef<HTMLDivElement>(null);
  const servicesRefs = useRef<HTMLDivElement[]>([]);

  const services: Service[] = [
    {
      title: "All things Content",
      description:
        "From the first idea to the final distribution, we handle everything with speed, consistency, and obsession for outcomes. Weâ€™re execution-first. What we really do is help brands win attention at scale.",
      icon: (
        <ResponsiveSVG>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="100%"
            height="100%"
            viewBox="0 0 120 120"
            fill="none"
          >
            <path
              d="M43.6818 29.6754L30.3247 21.3723C29.7832 21.0113 29.0612 21.0113 28.5197 21.3723C27.9782 21.7333 27.6172 22.2748 27.6172 22.9968V39.603C27.6172 40.325 27.9782 40.8665 28.5197 41.2275C28.8807 41.408 29.0612 41.408 29.4222 41.408C29.7832 41.408 30.1442 41.2275 30.3247 41.047L43.6818 32.7439C44.2233 32.3829 44.5843 31.8414 44.5843 31.2999C44.5843 30.7584 44.2233 30.0364 43.6818 29.6754ZM31.2272 36.1734V26.0654L39.3498 31.1194L31.2272 36.1734Z"
              fill="#FF7F00"
            />
            <path
              d="M110.467 1.33594H8.66374C4.87321 1.33594 1.80469 4.40446 1.80469 8.19499V85.0886C1.80469 88.8792 4.87321 91.9477 8.66374 91.9477H42.4175L38.627 106.207H27.2554C26.5334 106.207 25.8114 106.749 25.6309 107.471L22.7429 116.496C22.5624 117.037 22.7429 117.579 22.9234 118.12C23.2844 118.662 23.8259 118.842 24.3674 118.842H94.763C95.3045 118.842 95.846 118.481 96.207 118.12C96.568 117.579 96.568 117.037 96.3875 116.496L93.4994 107.471C93.3189 106.749 92.5969 106.207 91.8749 106.207H80.5033L76.7128 91.9477H110.467C114.257 91.9477 117.326 88.8792 117.326 85.0886C117.326 76.0636 117.326 19.5666 117.326 8.19499C117.326 4.40446 114.257 1.33594 110.467 1.33594ZM8.66374 4.94597H110.286C112.091 4.94597 113.535 6.38998 113.535 8.19499V73.8975H5.41472V8.19499C5.41472 6.38998 6.85873 4.94597 8.66374 4.94597ZM92.2359 115.052H26.8944L28.6994 109.637H90.6114L92.2359 115.052ZM76.7128 106.027H42.4175L46.2081 91.7672H73.1028L76.7128 106.027ZM113.716 85.0886C113.716 86.8936 112.272 88.3377 110.467 88.3377C98.373 88.3377 21.6599 88.3377 8.84425 88.3377C7.03923 88.3377 5.59522 86.8936 5.59522 85.0886V77.5076H113.716V85.0886Z"
              fill="white"
            />
            <path
              d="M52.8831 84.7272H66.2403C67.3233 84.7272 68.0453 84.0052 68.0453 82.9222C68.0453 81.8392 67.3233 81.1172 66.2403 81.1172H52.8831C51.8001 81.1172 51.0781 81.8392 51.0781 82.9222C51.0781 83.8247 51.8001 84.7272 52.8831 84.7272Z"
              fill="#FF7F00"
            />
            <path
              d="M12.641 52.0552H106.321C107.404 52.0552 108.126 51.3332 108.126 50.2502V12.1644C108.126 11.0814 107.404 10.3594 106.321 10.3594H59.5713H12.641C11.5579 10.3594 10.8359 11.0814 10.8359 12.1644V50.2502C10.8359 51.1527 11.7384 52.0552 12.641 52.0552ZM104.697 48.4452H61.3764V13.9694H104.697V48.4452ZM14.446 13.9694H57.7663V48.4452H14.446V13.9694Z"
              fill="white"
            />
            <path
              d="M81.1538 43.0029H95.1997C96.0596 43.0029 96.6329 42.4296 96.6329 41.5697C96.6329 40.7097 96.0596 40.1364 95.1997 40.1364H88.8934C91.4732 37.9865 93.0498 34.6901 93.0498 31.1069C93.0498 24.514 87.7468 19.2109 81.1538 19.2109C74.5608 19.2109 69.2578 24.514 69.2578 31.1069C69.2578 37.6999 74.7042 43.0029 81.1538 43.0029ZM81.1538 22.2208C86.1702 22.2208 90.1833 26.2339 90.1833 31.2503C90.1833 36.2666 86.1702 40.2798 81.1538 40.2798C76.1374 40.2798 72.1243 36.2666 72.1243 31.2503C72.1243 26.2339 76.2807 22.2208 81.1538 22.2208Z"
              fill="#FF7F00"
            />
            <path
              d="M81.151 35.1224C83.3009 35.1224 85.0208 33.4025 85.0208 31.2526C85.0208 29.1027 83.3009 27.3828 81.151 27.3828C79.0012 27.3828 77.2812 29.1027 77.2812 31.2526C77.2812 33.4025 79.0012 35.1224 81.151 35.1224ZM81.151 30.2493C81.7243 30.2493 82.1543 30.6793 82.1543 31.2526C82.1543 31.8259 81.7243 32.2559 81.151 32.2559C80.5777 32.2559 80.1478 31.8259 80.1478 31.2526C80.1478 30.6793 80.5777 30.2493 81.151 30.2493Z"
              fill="#FF7F00"
            />
            <path
              d="M81.0036 25.8118H81.2902C82.1502 25.8118 82.7235 25.2385 82.7235 24.3786C82.7235 23.5186 82.1502 22.9453 81.2902 22.9453H81.0036C80.1436 22.9453 79.5703 23.5186 79.5703 24.3786C79.5703 25.2385 80.1436 25.8118 81.0036 25.8118Z"
              fill="#FF7F00"
            />
            <path
              d="M75.9848 29.685L76.1282 29.3983C76.4148 28.6817 75.9848 27.8218 75.2682 27.5351C74.5516 27.2484 73.6916 27.6784 73.405 28.3951L73.2617 28.6817C72.975 29.3983 73.405 30.2583 74.1216 30.5449C74.9816 30.8316 75.8415 30.4016 75.9848 29.685Z"
              fill="#FF7F00"
            />
            <path
              d="M76.2734 37.6995L76.5601 37.8428C77.1334 38.2728 78.1366 38.1294 78.5666 37.5561C78.9966 36.9828 78.8533 35.9796 78.28 35.5496L77.85 35.4063C77.2767 34.9763 76.2734 35.1196 75.8434 35.6929C75.4134 36.2662 75.5568 37.1262 76.2734 37.6995Z"
              fill="#FF7F00"
            />
            <path
              d="M84.1617 35.5496C83.5884 35.9796 83.445 36.9828 83.875 37.5561C84.305 38.1294 85.1649 38.2728 85.8816 37.8428L86.1682 37.6995C86.7415 37.2695 86.8848 36.2662 86.4549 35.6929C86.0249 35.1196 85.0216 34.9763 84.4483 35.4063L84.1617 35.5496Z"
              fill="#FF7F00"
            />
            <path
              d="M86.3112 29.685C86.5979 30.4016 87.3145 30.8316 88.1745 30.5449C88.8911 30.2583 89.3211 29.5417 89.0344 28.6817L88.8911 28.3951C88.6044 27.6784 87.8878 27.2484 87.0279 27.5351C86.3112 27.8218 85.8813 28.5384 86.1679 29.3983L86.3112 29.685Z"
              fill="#FF7F00"
            />
            <path
              d="M12.6349 64.8757H17.1474C18.2304 64.8757 18.9524 64.1536 18.9524 63.0706C18.9524 61.9876 18.2304 61.2656 17.1474 61.2656H12.6349C10.2884 61.2656 10.2884 64.8757 12.6349 64.8757Z"
              fill="white"
            />
            <path
              d="M54.8708 61.2656H45.4847C44.4017 61.2656 43.6797 61.9876 43.6797 63.0706C43.6797 64.1536 44.4017 64.8757 45.4847 64.8757H54.8708C55.9538 64.8757 56.6758 64.1536 56.6758 63.0706C56.6758 61.9876 55.7733 61.2656 54.8708 61.2656Z"
              fill="white"
            />
            <path
              d="M36.0973 61.2656H26.7113C25.6283 61.2656 24.9062 61.9876 24.9062 63.0706C24.9062 64.1536 25.6283 64.8757 26.7113 64.8757H36.0973C37.1804 64.8757 37.9024 64.1536 37.9024 63.0706C37.9024 61.9876 36.9998 61.2656 36.0973 61.2656Z"
              fill="white"
            />
            <path
              d="M73.652 61.2656H64.266C63.1829 61.2656 62.4609 61.9876 62.4609 63.0706C62.4609 64.1536 63.1829 64.8757 64.266 64.8757H73.652C74.735 64.8757 75.457 64.1536 75.457 63.0706C75.457 61.9876 74.735 61.2656 73.652 61.2656Z"
              fill="white"
            />
            <path
              d="M92.4177 61.2656H83.0316C81.9486 61.2656 81.2266 61.9876 81.2266 63.0706C81.2266 64.1536 81.9486 64.8757 83.0316 64.8757H92.4177C93.5007 64.8757 94.2227 64.1536 94.2227 63.0706C94.2227 61.9876 93.5007 61.2656 92.4177 61.2656Z"
              fill="white"
            />
            <path
              d="M106.497 61.2656H101.985C100.902 61.2656 100.18 61.9876 100.18 63.0706C100.18 64.1536 100.902 64.8757 101.985 64.8757H106.497C107.58 64.8757 108.302 64.1536 108.302 63.0706C108.302 61.9876 107.4 61.2656 106.497 61.2656Z"
              fill="white"
            />
          </svg>
        </ResponsiveSVG>

      ),
    },
    {
      title: "3D & CGI Studio",
      description:
        "From static to surreal. We bring imagination to screen using high-fidelity 3D and CGI execution built for impact.",
      icon: (
        <ResponsiveSVG>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="100%"
            height="100%"
            viewBox="0 0 120 120"
            fill="none"
          >
            <g clip-path="url(#clip0_1220_460)">
              <path
                d="M114.248 88.6061L101.915 81.6169V69.3876C101.915 68.1027 100.873 67.0608 99.5878 67.0608C98.3029 67.0608 97.261 68.1027 97.261 69.3876V78.9797L91.8512 75.9142C90.7334 75.2808 89.3134 75.6734 88.6796 76.7914C88.046 77.9096 88.4388 79.3294 89.5568 79.963L95.0208 83.0593L61.894 102.185V87.3594C75.9482 86.1741 87.0232 74.3585 87.0232 60.003C87.0232 55.8355 86.088 51.883 84.4195 48.3412L97.261 40.9271V50.4632C97.261 51.7481 98.3029 52.79 99.5878 52.79C100.873 52.79 101.915 51.7481 101.915 50.4632V36.8969C101.915 36.0658 101.471 35.2975 100.751 34.8819L61.894 12.4479V2.76428C61.894 1.47943 60.852 0.4375 59.5672 0.4375C58.2823 0.4375 57.2404 1.47943 57.2404 2.76428V12.4479L18.3832 34.8819C17.6633 35.2975 17.2199 36.0658 17.2199 36.8969V51.161C17.2199 52.4459 18.2618 53.4878 19.5466 53.4878C20.8315 53.4878 21.8734 52.4459 21.8734 51.161V40.9313L34.7042 48.364C33.0422 51.9 32.1112 55.8446 32.1112 60.003C32.1112 74.3585 43.1862 86.1743 57.2404 87.3594V102.185L24.2244 83.1228L27.7562 81.0752C28.8679 80.4305 29.2465 79.0069 28.6022 77.8952C27.9575 76.7837 26.5337 76.4051 25.4222 77.0492L21.8734 79.1068V68.1467C21.8734 66.8619 20.8315 65.8199 19.5466 65.8199C18.2618 65.8199 17.2199 66.8619 17.2199 68.1467V81.8047L6.92573 87.7728C5.81399 88.4176 5.43543 89.8411 6.07971 90.9529C6.51133 91.6972 7.2922 92.113 8.09493 92.113C8.49095 92.113 8.89255 92.0115 9.25972 91.7986L19.5804 85.8151L58.4038 108.23C58.7638 108.438 59.1654 108.542 59.5672 108.542C59.969 108.542 60.3706 108.438 60.7306 108.23L99.7176 85.7209L111.954 92.6547C112.316 92.8601 112.71 92.9576 113.099 92.9576C113.909 92.9576 114.697 92.5332 115.125 91.7777C115.759 90.6594 115.366 89.2396 114.248 88.6061ZM24.1967 36.899L57.2404 17.8213V25.0983C57.2404 26.3832 58.2823 27.4251 59.5672 27.4251C60.852 27.4251 61.894 26.3832 61.894 25.0983V17.8213L94.9342 36.8972L82.0862 44.3149C77.1192 37.2064 68.8778 32.547 59.5672 32.547C50.2478 32.547 41.9993 37.2155 37.0338 44.3356L24.1967 36.899ZM59.5672 82.8054C46.994 82.8054 36.7648 72.5762 36.7648 60.003C36.7648 47.4298 46.994 37.2006 59.5672 37.2006C72.1404 37.2006 82.3696 47.4298 82.3696 60.003C82.3696 72.5762 72.1404 82.8054 59.5672 82.8054Z"
                fill="white"
              />
              <path
                d="M118.448 58.3614C118.016 57.9284 117.415 57.6797 116.803 57.6797C116.191 57.6797 115.591 57.9284 115.158 58.3614C114.726 58.7944 114.477 59.3945 114.477 60.0065C114.477 60.6184 114.725 61.2187 115.158 61.6513C115.591 62.084 116.191 62.3332 116.803 62.3332C117.415 62.3332 118.016 62.0843 118.448 61.6513C118.881 61.2187 119.13 60.6184 119.13 60.0065C119.13 59.3945 118.881 58.7942 118.448 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M109.714 58.3614C109.281 57.9287 108.683 57.6797 108.071 57.6797C107.457 57.6797 106.859 57.9284 106.424 58.3614C105.991 58.7942 105.742 59.3945 105.742 60.0065C105.742 60.6184 105.991 61.2164 106.424 61.6513C106.859 62.084 107.457 62.3332 108.071 62.3332C108.683 62.3332 109.284 62.0843 109.714 61.6513C110.149 61.2187 110.396 60.6184 110.396 60.0065C110.396 59.3945 110.149 58.7942 109.714 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M101.229 58.3614C100.797 57.9284 100.197 57.6797 99.5846 57.6797C98.9726 57.6797 98.3723 57.9284 97.9396 58.3614C97.5068 58.7944 97.2578 59.3945 97.2578 60.0065C97.2578 60.6184 97.5065 61.2187 97.9396 61.6513C98.3723 62.084 98.9726 62.3332 99.5846 62.3332C100.197 62.3332 100.797 62.0843 101.229 61.6513C101.662 61.2187 101.911 60.6184 101.911 60.0065C101.911 59.3945 101.662 58.7942 101.229 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M21.1903 58.3614C20.7578 57.9284 20.1575 57.6797 19.5455 57.6797C18.9336 57.6797 18.3333 57.9284 17.9005 58.3614C17.4677 58.7944 17.2188 59.3945 17.2188 60.0065C17.2188 60.6184 17.4675 61.2187 17.9005 61.6513C18.3333 62.0843 18.9336 62.3332 19.5455 62.3332C20.1575 62.3332 20.7578 62.0843 21.1903 61.6513C21.6233 61.2187 21.8723 60.6184 21.8723 60.0065C21.8723 59.3945 21.6233 58.7942 21.1903 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M12.4507 58.3614C12.0156 57.9287 11.4176 57.6797 10.8033 57.6797C10.1912 57.6797 9.59342 57.9284 9.15831 58.3614C8.72553 58.7942 8.47656 59.3945 8.47656 60.0065C8.47656 60.6184 8.7253 61.2187 9.15831 61.6513C9.59342 62.084 10.1912 62.3332 10.8033 62.3332C11.4176 62.3332 12.0156 62.0843 12.4507 61.6513C12.8832 61.2187 13.1324 60.6184 13.1324 60.0065C13.1324 59.3945 12.8835 58.7942 12.4507 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M3.97158 58.3614C3.53903 57.9284 2.93872 57.6797 2.32678 57.6797C1.71483 57.6797 1.11453 57.9284 0.681746 58.3614C0.248965 58.7944 0 59.3945 0 60.0065C0 60.6184 0.248732 61.2187 0.681746 61.6513C1.11453 62.0843 1.71483 62.3332 2.32678 62.3332C2.93872 62.3332 3.53903 62.0843 3.97158 61.6513C4.40459 61.2187 4.65355 60.6184 4.65355 60.0065C4.65355 59.3945 4.40459 58.7942 3.97158 58.3614Z"
                fill="#FF7F00"
              />
              <path
                d="M52.0795 55.5238L54.7956 52.808C55.4608 52.1425 55.66 51.1418 55.3 50.2723C54.9398 49.403 54.0915 48.8359 53.1503 48.8359H45.511C44.2262 48.8359 43.1842 49.8779 43.1842 51.1627C43.1842 52.4476 44.2262 53.4895 45.511 53.4895H47.5328L44.9889 56.0334C44.3237 56.6988 44.1245 57.6996 44.4844 58.5691C44.8446 59.4384 45.693 60.0054 46.6342 60.0054H50.4342C52.2303 60.0054 53.6915 61.4666 53.6915 63.2627C53.6915 65.0587 52.2303 66.5199 50.4342 66.5199C48.6382 66.5199 47.177 65.0587 47.177 63.2627C47.177 61.9778 46.1351 60.9359 44.8502 60.9359C43.5654 60.9359 42.5234 61.9778 42.5234 63.2627C42.5234 67.6247 46.0722 71.1735 50.4342 71.1735C54.7963 71.1735 58.3451 67.6247 58.3451 63.2627C58.3453 59.4647 55.6551 56.283 52.0795 55.5238Z"
                fill="#FF7F00"
              />
              <path
                d="M65.4353 48.8362L63.1083 48.8359H63.108C62.4912 48.8359 61.8993 49.0812 61.463 49.5175C61.0265 49.9537 60.7812 50.5457 60.7812 51.1627V68.8467C60.7812 70.1315 61.8229 71.1735 63.108 71.1735H65.4341C71.5926 71.1735 76.6029 66.1634 76.6029 60.0049C76.6029 53.8469 71.5931 48.8369 65.4353 48.8362ZM65.4348 66.5199V53.4897C69.0269 53.49 71.9493 56.4129 71.9493 60.0049C71.9493 63.597 69.0269 66.5194 65.4348 66.5199Z"
                fill="#FF7F00"
              />
              <path
                d="M19.5596 0.4375H2.32678C1.04193 0.4375 0 1.47943 0 2.76428V19.9971C0 21.2822 1.04193 22.3239 2.32678 22.3239C3.61162 22.3239 4.65355 21.2819 4.65355 19.9971V5.09105H19.5596C20.8444 5.09105 21.8864 4.04912 21.8864 2.76428C21.8864 1.47943 20.8444 0.4375 19.5596 0.4375Z"
                fill="white"
              />
              <path
                d="M116.802 0.4375H99.569C98.2841 0.4375 97.2422 1.47943 97.2422 2.76428C97.2422 4.04912 98.2841 5.09105 99.569 5.09105H114.475V19.9971C114.475 21.2819 115.517 22.3239 116.802 22.3239C118.087 22.3239 119.129 21.2819 119.129 19.9971V2.76428C119.129 1.47943 118.087 0.4375 116.802 0.4375Z"
                fill="white"
              />
              <path
                d="M116.802 97.6875C115.517 97.6875 114.475 98.7294 114.475 100.014V114.92H99.569C98.2841 114.92 97.2422 115.962 97.2422 117.247C97.2422 118.532 98.2841 119.574 99.569 119.574H116.802C118.087 119.574 119.129 118.532 119.129 117.247V100.014C119.129 98.7292 118.087 97.6875 116.802 97.6875Z"
                fill="white"
              />
              <path
                d="M19.5596 114.92H4.65355V100.014C4.65355 98.7294 3.61162 97.6875 2.32678 97.6875C1.04193 97.6875 0 98.7294 0 100.014V117.247C0 118.532 1.04193 119.574 2.32678 119.574H19.5596C20.8444 119.574 21.8864 118.532 21.8864 117.247C21.8864 115.962 20.8447 114.92 19.5596 114.92Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_1220_460">
                <rect
                  width="119.131"
                  height="119.131"
                  fill="white"
                  transform="translate(0 0.4375)"
                />
              </clipPath>
            </defs>
          </svg>
        </ResponsiveSVG>

      ),
    },
    {
      title: "AI-Led Video Systems",
      description:
        "AI is not the future, it's our present. We leverage generative AI and automation tools to drive scalable, smart visual content.",
      icon: (
        <ResponsiveSVG>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="100%"
            height="100%"
            viewBox="0 0 120 120"
            fill="none"
          >
            <path
              d="M53.0508 60.3311C54.0215 60.3311 54.8941 60.9 55.29 61.7725L55.3633 61.9512L62.8086 82.4258C63.273 83.7042 62.6141 85.1158 61.3369 85.5801C61.0588 85.6813 60.7751 85.7295 60.4961 85.7295C59.4908 85.7294 58.5468 85.1079 58.1836 84.1084L57.498 82.2236L57.418 82.0059H48.6826L48.6035 82.2236L47.9189 84.1094C47.453 85.3866 46.0417 86.0431 44.7637 85.5811H44.7646C43.4872 85.1158 42.8277 83.7051 43.292 82.4268L50.7383 61.9512C51.0909 60.9785 52.0152 60.3311 53.0508 60.3311ZM52.7393 70.8486L50.6348 76.6396L50.4727 77.084H55.6279L55.4668 76.6396L53.3613 70.8486L53.0508 69.9932L52.7393 70.8486Z"
              fill="#FF7F00"
              stroke="black"
              stroke-width="0.661839"
            />
            <path
              d="M71.6592 60.3311C73.0186 60.3311 74.12 61.4326 74.1201 62.792V83.2676C74.1201 84.627 73.0186 85.7285 71.6592 85.7285C70.2998 85.7284 69.1982 84.627 69.1982 83.2676V62.792C69.1983 61.4327 70.2999 60.3311 71.6592 60.3311Z"
              fill="#FF7F00"
              stroke="black"
              stroke-width="0.661839"
            />
            <path
              d="M72.5938 6.35449H107.96C112.909 6.35449 116.936 10.3811 116.937 15.3301V45.1133C116.937 50.0625 112.909 54.0898 107.96 54.0898H97.6396L97.7627 54.5127C99.2667 59.684 100.123 64.966 100.348 70.2568L100.361 70.5732H110.753C112.112 70.5735 113.214 71.6751 113.214 73.0342C113.214 74.3935 112.112 75.4959 110.753 75.4961H100.361L100.348 75.8125C100.139 80.8054 99.3548 85.7722 98.0156 90.6299L97.9004 91.0488H104.325L104.4 90.8232L105.626 87.1484C105.961 86.1429 106.901 85.465 107.96 85.4648H114.476C115.835 85.465 116.936 86.5665 116.937 87.9258C116.937 89.2851 115.835 90.3866 114.476 90.3867H109.734L109.658 90.6133L108.434 94.2881C108.098 95.294 107.158 95.9717 106.099 95.9717H96.792C96.7697 95.9717 96.7438 95.9687 96.7061 95.9639C96.675 95.9599 96.6176 95.9521 96.5684 95.9473L96.3145 95.9219L96.2256 96.1611C95.6755 97.6398 95.0902 99.1053 94.4346 100.549L92.5176 104.766C92.3013 105.24 91.9418 105.632 91.4922 105.888L91.2949 105.988L87.0781 107.906C78.3366 111.88 68.9486 113.867 59.5635 113.867C50.1766 113.868 40.7922 111.881 32.0488 107.906L27.832 105.988C27.3583 105.772 26.9669 105.413 26.7109 104.964L26.6094 104.766L24.6924 100.549C24.0369 99.1076 23.4556 97.6404 22.9062 96.1611L22.8174 95.9229L22.5645 95.9473C22.5142 95.9521 22.4559 95.9598 22.4238 95.9639C22.3854 95.9687 22.3585 95.9717 22.335 95.9717H13.0283C11.9692 95.9717 11.0281 95.2938 10.6934 94.2881L9.46777 90.6133L9.39258 90.3867H4.65137C3.29201 90.3866 2.19043 89.2852 2.19043 87.9258C2.19054 86.5665 3.29207 85.4649 4.65137 85.4648H11.166C12.225 85.4648 13.1653 86.1424 13.501 87.1484L14.7266 90.8232L14.8018 91.0488H21.2217L21.1064 90.6309C19.773 85.7749 19.0131 80.8028 18.8047 75.8125L18.792 75.4961H8.37402C7.01475 75.4959 5.91309 74.3935 5.91309 73.0342C5.91332 71.6751 7.01489 70.5734 8.37402 70.5732H18.792L18.8047 70.2559C19.0131 65.2657 19.773 60.2943 21.1064 55.4385L21.2217 55.0205H14.8018L14.7266 55.2461L13.501 58.9209C13.1653 59.9269 12.225 60.6045 11.166 60.6045H4.65137C3.29211 60.6044 2.1906 59.5028 2.19043 58.1436C2.19043 56.7842 3.29201 55.6817 4.65137 55.6816H9.39258L9.46777 55.4561L10.6934 51.7812C11.0281 50.7755 11.9691 50.0977 13.0283 50.0977H22.335C22.3585 50.0977 22.3854 50.1006 22.4238 50.1055C22.4559 50.1095 22.5142 50.1173 22.5645 50.1221L22.8174 50.1465L22.9062 49.9082C23.4556 48.429 24.0369 46.9627 24.6924 45.5205L26.6094 41.3037C26.8564 40.762 27.2903 40.3271 27.832 40.0801V40.0811L32.0488 38.1631C41.8236 33.7198 52.5647 31.7152 63.2676 32.3125L63.6172 32.332V15.3301C63.6174 10.3811 67.6447 6.35449 72.5938 6.35449ZM59.5635 48.5049C46.0373 48.5049 35.0344 59.508 35.0342 73.0342C35.0342 86.5605 46.0371 97.5645 59.5635 97.5645C73.0898 97.5644 84.0928 86.5605 84.0928 73.0342C84.0926 65.6983 80.8618 58.8486 75.2266 54.166L75.1348 54.0898H72.5938C69.1027 54.0898 66.0746 52.0799 64.5918 49.1582L64.5195 49.0146L64.3613 48.9834L63.7695 48.873C62.3864 48.6327 60.9782 48.5049 59.5635 48.5049ZM72.5938 11.2764C70.358 11.2764 68.5403 13.0944 68.54 15.3301V45.1133C68.54 47.3492 70.3578 49.167 72.5938 49.167H107.96C110.196 49.167 112.015 47.3492 112.015 45.1133V15.3301C112.014 13.0944 110.196 11.2764 107.96 11.2764H72.5938ZM63.6172 37.2598L63.3066 37.2402C53.2942 36.6311 43.2319 38.488 34.085 42.6455L30.8213 44.1289L30.708 44.1807L30.6572 44.293L29.1729 47.5576C21.8126 63.7494 21.8126 82.3209 29.1729 98.5127L30.6572 101.777L30.708 101.89L30.8213 101.941L34.085 103.425C50.2779 110.786 68.848 110.786 85.041 103.425L88.3047 101.941L88.418 101.89L88.4688 101.777L89.9531 98.5127C96.3057 84.5376 97.1999 68.8986 92.541 54.3193L92.4678 54.0898H82.126L82.5586 54.6279C86.7116 59.7998 89.0155 66.2424 89.0156 73.0342C89.0156 89.2738 75.8031 102.486 59.5635 102.486C43.3238 102.486 30.1113 89.2738 30.1113 73.0342C30.1116 56.7947 43.324 43.583 59.5635 43.583C60.7957 43.583 62.0254 43.6654 63.2451 43.8174L63.6172 43.8643V37.2598Z"
              fill="white"
              stroke="black"
              stroke-width="0.661839"
            />
            <path
              d="M77.2451 19.3779H93.0674C94.4267 19.378 95.5282 20.4795 95.5283 21.8389V23.6006L95.9961 23.3887L102.287 20.5293C103.048 20.1848 103.935 20.2493 104.638 20.7012V20.7002C105.341 21.1531 105.767 21.9329 105.767 22.7695V37.6611C105.767 38.4978 105.341 39.2776 104.638 39.7305C104.234 39.9905 103.77 40.1221 103.305 40.1221C102.959 40.122 102.611 40.0488 102.287 39.9014L95.9961 37.042L95.5283 36.8301V38.5918C95.5283 39.9512 94.4268 41.0527 93.0674 41.0527H77.2451C75.8858 41.0527 74.7842 39.9512 74.7842 38.5918V21.8389C74.7843 20.4796 75.8858 19.378 77.2451 19.3779ZM79.7061 36.1309H90.6064V24.2998H79.7061V36.1309ZM100.376 26.8047L95.7227 28.9199L95.5283 29.0088V31.4238L95.7227 31.5117L100.376 33.626L100.844 33.8389V26.5918L100.376 26.8047Z"
              fill="#FF7F00"
              stroke="black"
              stroke-width="0.661839"
            />
          </svg>
        </ResponsiveSVG>

      ),
    },
  ];

  useGSAP(() => {
    gsap.set(servicesRefs.current, {
      opacity: 0,
      y: 100,
    });

    gsap.to(servicesRefs.current, {
      opacity: 1,
      y: 0,
      stagger: 0.05,
      scrollTrigger: {
        trigger: containerRef.current,
        start: "top 80%",
        toggleActions: "play none none reverse",
      },
    });
  });

  return (
    <div id="what-we-do" className="w-full py-20 px-4 md:px-8 relative  min-h-[80svh] flex items-center justify-center">
      <div className="absolute top-0 left-0 w-full h-full z-[-1]">
        <img
          src="/assets/shapes/Grid 5.png"
          alt=""
          className="w-full h-full object-cover opacity-80"
        />
      </div>
      <div className="max-w-7xl mx-auto flex flex-col items-center justify-center">
        {/* Header */}
        <div className="text-center mb-16">
          <AnimatedSplitText
            className="text-4xl lg:text-5xl text-white tracking-tight mb-4 lg:mb-6 font-semibold"
            type="chars"
            stagger={0.01}
            duration={1}
            tag="h2"
          >
            What we do?
          </AnimatedSplitText>
          <AnimatedSplitText
            type="words"
            stagger={0.01}
            duration={0.7}
            tag="p"
            className="text-xs lg:text-sm text-white/70 max-w-4xl mx-auto tracking-wider"
          >
            BeeBuzz exists with a clear mission: Execute bold ideas with
            ruthless efficiency.
          </AnimatedSplitText>
        </div>

        {/* Services Grid */}
        <div
          className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          ref={containerRef}
        >
          {services.map((service, index) => {
            // For the 3rd service on md screens, span both columns (full width)
            const isThird = index === 2;
            const cardClass =
              "bg-black rounded-sm p-5 lg:p-8 border border-white/30 hover:border-white/20 hover:bg-[#0e0e0e]" +
              (isThird
                ? " md:col-span-2 lg:col-span-1"
                : "");

            return (
              <div
                key={index}
                ref={(el: HTMLDivElement | null) => {
                  if (el) {
                    servicesRefs.current[index] = el;
                  }
                }}
                className={cardClass}
              >
                {/* Icon */}
                <div className="mb-6 flex items-center">
                  {service.icon}
                </div>

                {/* Title */}
                <h3 className="text-xl md:text-2xl font-medium text-white mb-3 md:mb-4">
                  {service.title}
                </h3>

                {/* Description */}
                <p className="text-white/70 leading-relaxed text-xs md:text-sm">
                  {service.description}
                </p>
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
};

export default WhatWeDo;
